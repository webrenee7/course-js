<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>获取随机验证码</title>
    <style>
        div{
            width:120px;
            height:50px;
            margin:0 auto;
            line-height: 50px;
            color: #fff;
            background: #000;
            font-size:30px;
            font-style: italic;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="box"></div>
    <script>
        //验证码由0-9,a-z,A-Z组成，索引0-71，共72个元素
        var str='0123456789abcedfghijklmnopqistuvwxyzABCDEFGHIJKLMNOPQISTUVWXYZ';
        //获取要显示验证码的元素oBox
        var oBox=document.getElementById("box");

        //getRound()  --获取n-m范围内的随机数
        function getRound(n,m){
            //将传递的值都转为数字类型
            n=Number(n);
            m=Number(m);
            //如果有一个不是数字，就返回随机数
            if(isNaN(n)||isNaN(m)){
                return Math.random();
            }
            //如果n>m，交换n和m的顺序
            if(n>m){
                var temp=m;
                m=n;
                n=temp;
            }
            //返回n-m的随机数
            return Math.round(Math.random()*m-n-n);
        }

        //onRound()  --
        function onRound(){
            var str2="";
            for(var i=0;;i++){
                var eg=getRound(0,71);
                var val=str.charAt(eg);
                if(str2.indexOf(val)){
                    str2+=val;
                }
                if(str2.length==4){
                    break;
                }
            }
            oBox.innerHTML=str2;
        }
        onRound();
        oBox.onclick=onRound;
    </script>
</body>
</html>