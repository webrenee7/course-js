<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>冒泡排序</title>
</head>
<body>
    <script>
        /*
        * 冒泡排序思想：两两比较
        * 每一项跟后一项进行比较，如果大于后一项，将该项跟后一项交换顺序,否则进行下一次比较
        * 知道比较的轮数，每一轮比较的次数
        * */

        /*var ary=[3,1,5,2,4,6,4,5,1,8,6,7];
        function bubbleSort(arr){
            for(var i=0;i<arr.length-1;i++){//i-->轮数
                for(var j=0;j<arr.length-1-i;j++){//j-->每一轮最多比较的次数（首先不用跟自己比，）
                    if(arr[j]>arr[j+1]){//当前项的值大于后一项的值
                        //使用第三方变量-->空瓶子
                        /!*var temp=arr[j];
                        arr[j]=arr[j+1];
                        var[j+1]=temp;*!/
                        //不使用第三方变量
                        arr[j]=arr[j]+arr[j+1];
                        arr[j+1]=arr[j]-arr[j+1];
                        arr[j]=arr[j]-arr[j+1];
                    }
                }
            }
            return arr;
        }
        var res=bubbleSort(ary);
        console.log(res);*/


        //优化方法（只要排好序之后，不再进行排序）
        var ary=[2,1,3,5,4];
        //在第一轮比较之前，设置一个变量flag    var flag=false
        //第一轮  i=0
        // 2>1  [1,2,3,5,4]   -->只要有交换位置的，让flag=true
        // 2<3  [1,2,3,5,4]
        // 3<5  [1,2,3,5,4]
        // 5>4  [1,2,3,4,5]

        //在第二轮开始之前 让flag=false
        //第二轮 i=1
        //1<2  [1,2,3,4,5]
        //2<3  [1,2,3,4,5]
        //3<4  [1,2,3,4,5]
        //====>false  说明第二轮一个都没有交换====》已经排好

        function bubbleSort(arr){
            var flag=false;
            for(var i=0;i<arr.length-1;i++){
                for(var j=0;j<arr.length-1-i;j++){
                    if(arr[j]>arr[j+1]){
                        arr[j]=arr[j]+arr[j+1];
                        arr[j+1]=arr[j]-arr[j+1];
                        arr[j]=arr[j]-arr[j+1];
                        flag=true;
                    }
                }
                if(flag){
                    flag=false;
                }else{
                    break;
                }
            }
            return arr;
        }
        var res=bubbleSort(ary);
        console.log(res);
    </script>
</body>
</html>