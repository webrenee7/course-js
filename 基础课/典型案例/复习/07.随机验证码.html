<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>随机验证码</title>
    <style>
        div{
            width:120px;
            height:40px;
            margin: 0 auto;
            font:bold 20px/40px italic;
            text-align: center;
            background: greenyellow;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="box"></div>
    <script>
        var str="0123456789abcdefghijklmnopqistuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
        var oBox=document.getElementById("box");
        function getRandom(n,m){
            n=Number(n);
            m=Number(m);
            if(isNaN(n)||isNaN(m)){
                return Math.random();
            }
            if(n>m){
                var temp=n;
                n=m;
                m=temp;
            }
            return Math.round(Math.random()*m-n+n);
        }
        function getCode(){
            var str2="";
            for(var i=0;;i++){
                var eg=getRandom(0,str.length);
                var val=str.charAt(eg);
                if(str2.indexOf(val)===-1){
                    str2+=val;
                    i--;
                }
                if(str2.length==4){
                    break;
                }
            }
            oBox.innerHTML=str2;
        }
        getCode();
        oBox.onclick=getCode;
    </script>
</body>
</html>